<!DOCTYPE html>
<html>
<head>
    <title>Test Table Layout</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .detail-column { display: table-cell; }
        .table.compact .detail-column { display: none; }
        .thead-light th[colspan] {
            text-align: center;
            font-weight: 700;
            background-color: #e9ecef !important;
        }
        .positive-roi { color: #28a745; font-weight: 600; }
        .negative-roi { color: #dc3545; font-weight: 600; }
        #totalRow {
            background-color: #e9ecef !important;
            border-top: 2px solid #007bff !important;
        }
        #totalRow td { font-weight: 700 !important; }
    </style>
</head>
<body>
    <div class="container mt-4">
        <div class="form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" id="compactToggle">
            <label class="form-check-label" for="compactToggle">
                Compact View (hides detail columns)
            </label>
        </div>

        <table class="table table-bordered table-hover" id="testTable">
            <thead class="thead-light">
                <tr>
                    <th rowspan="2">Product Name</th>
                    <th colspan="2">Pricing</th>
                    <th rowspan="2" class="detail-column">Cases On Hand</th>
                    <th rowspan="2" class="detail-column">Annual Cases</th>
                    <th rowspan="2" class="detail-column">Bottles/Case</th>
                    <th rowspan="2">Small Deal Cases</th>
                    <th rowspan="2">Bulk Cases</th>
                    <th rowspan="2">Cases After Purchase</th>
                    <th rowspan="2">ROI</th>
                    <th rowspan="2">Ann. ROI</th>
                    <th rowspan="2">Deal Cycles/Year</th>
                </tr>
                <tr>
                    <th class="detail-column">Small</th>
                    <th>Bulk</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Single Malt Scotch</td>
                    <td class="detail-column">$69.99</td>
                    <td>$59.99</td>
                    <td class="detail-column">5</td>
                    <td class="detail-column">36</td>
                    <td class="detail-column">12</td>
                    <td>8</td>
                    <td>10</td>
                    <td>15</td>
                    <td class="positive-roi">62.26%</td>
                    <td class="positive-roi">146.50%</td>
                    <td>2.4</td>
                </tr>
                <tr>
                    <td>Bourbon Whiskey</td>
                    <td class="detail-column">$42.99</td>
                    <td>$36.99</td>
                    <td class="detail-column">8</td>
                    <td class="detail-column">48</td>
                    <td class="detail-column">12</td>
                    <td>12</td>
                    <td>18</td>
                    <td>26</td>
                    <td class="positive-roi">58.97%</td>
                    <td class="positive-roi">138.70%</td>
                    <td>1.8</td>
                </tr>
                <tr id="totalRow">
                    <td>Portfolio (Weighted)</td>
                    <td class="detail-column">-</td>
                    <td>-</td>
                    <td class="detail-column">13</td>
                    <td class="detail-column">84</td>
                    <td class="detail-column">-</td>
                    <td>20</td>
                    <td>28</td>
                    <td>41</td>
                    <td class="positive-roi">60.12%</td>
                    <td class="positive-roi">141.18%</td>
                    <td>-</td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        document.getElementById('compactToggle').addEventListener('change', function() {
            document.getElementById('testTable').classList.toggle('compact', this.checked);
        });
    </script>
</body>
</html>
